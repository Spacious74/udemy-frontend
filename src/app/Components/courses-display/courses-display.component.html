<div class="container flex gap-2 justify-content-between  ">
    <div class="filter surface-50 p-5 pr-0">
        <div class="head mb-5 flex gap-1 align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="1.1em" height="1.1em" viewBox="0 0 24 24">
                <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8.857 12.506C6.37 10.646 4.596 8.6 3.627 7.45c-.3-.356-.398-.617-.457-1.076c-.202-1.572-.303-2.358.158-2.866S4.604 3 6.234 3h11.532c1.63 0 2.445 0 2.906.507c.461.508.36 1.294.158 2.866c-.06.459-.158.72-.457 1.076c-.97 1.152-2.747 3.202-5.24 5.065a1.05 1.05 0 0 0-.402.747c-.247 2.731-.475 4.227-.617 4.983c-.229 1.222-1.96 1.957-2.888 2.612c-.552.39-1.222-.074-1.293-.678a196 196 0 0 1-.674-6.917a1.05 1.05 0 0 0-.402-.755"
                    color="currentColor" />
            </svg>
            Filters
        </div>
        <div class="fcont flex flex-column gap-4">
            <span *ngIf="level && price && lang && sort"
                class="cursor-pointer text-sm font-normal flex gap-1 align-items-center pr-3 "
                (click)="clearFilter('')">
                <svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" viewBox="0 0 24 24">
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                        stroke-width="1.5"
                        d="M20.999 4.5c-.012-.435-.103-.747-.327-.993C20.212 3 19.396 3 17.766 3H6.234c-1.63 0-2.445 0-2.906.507c-.461.508-.36 1.294-.158 2.866c.06.459.158.72.457 1.076c.969 1.15 2.742 3.197 5.23 5.057c.228.17.377.448.402.755c.28 3.425.537 5.765.674 6.917c.071.604.741 1.069 1.293.678c.927-.655 2.66-1.39 2.888-2.612c.085-.45.2-1.164.331-2.244M21 7l-6 6m6 0l-6-6"
                        color="currentColor" />
                </svg>
                Clear All Filters
            </span>
            <div class="sort">
                <div class="flex align-items-center justify-content-between mb-2 text-lg font-bold text-500  ">
                    <span class="flex align-items-center">
                        Sort
                    </span>
                    <span *ngIf="sort" class="cursor-pointer text-sm font-normal flex gap-1 align-items-center pr-3  "
                        (click)="clearFilter('sort')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" viewBox="0 0 24 24">
                            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="1.5"
                                d="M20.999 4.5c-.012-.435-.103-.747-.327-.993C20.212 3 19.396 3 17.766 3H6.234c-1.63 0-2.445 0-2.906.507c-.461.508-.36 1.294-.158 2.866c.06.459.158.72.457 1.076c.969 1.15 2.742 3.197 5.23 5.057c.228.17.377.448.402.755c.28 3.425.537 5.765.674 6.917c.071.604.741 1.069 1.293.678c.927-.655 2.66-1.39 2.888-2.612c.085-.45.2-1.164.331-2.244M21 7l-6 6m6 0l-6-6"
                                color="currentColor" />
                        </svg>
                        Clear filter
                    </span>
                </div>
                <div class="flex flex-column gap-1 ">
                    <div class="flex align-items-center gap-1   ">
                        <p-radioButton name="sort" value="lth" (click)="fetchData()" [(ngModel)]="sort" inputId="lth">
                        </p-radioButton>
                        <label for="lth" class="ml-2">Price Low to High</label>
                    </div>
                    <div class="flex align-items-center gap-1  ">
                        <p-radioButton name="sort" value="htl" (click)="fetchData()" [(ngModel)]="sort" inputId="htl">
                        </p-radioButton>
                        <label for="htl" class="ml-2">Price High to Low</label>
                    </div>
                </div>
            </div>
            <div class="pricefilter">
                <div class="flex align-items-center justify-content-between mb-2 text-lg font-bold text-500  ">
                    <span class="flex align-items-center">
                        Price
                    </span>
                    <span *ngIf="price" class="cursor-pointer text-sm font-normal flex gap-1 align-items-center pr-3  "
                        (click)="clearFilter('price')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" viewBox="0 0 24 24">
                            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="1.5"
                                d="M20.999 4.5c-.012-.435-.103-.747-.327-.993C20.212 3 19.396 3 17.766 3H6.234c-1.63 0-2.445 0-2.906.507c-.461.508-.36 1.294-.158 2.866c.06.459.158.72.457 1.076c.969 1.15 2.742 3.197 5.23 5.057c.228.17.377.448.402.755c.28 3.425.537 5.765.674 6.917c.071.604.741 1.069 1.293.678c.927-.655 2.66-1.39 2.888-2.612c.085-.45.2-1.164.331-2.244M21 7l-6 6m6 0l-6-6"
                                color="currentColor" />
                        </svg>
                        Clear filter
                    </span>
                </div>
                <p-selectButton [options]="priceOption" [(ngModel)]="price" optionLabel="name"
                    optionValue="value"></p-selectButton>
            </div>
            <div class="language">
                <div class="flex align-items-center justify-content-between mb-2 text-lg font-bold text-500  ">
                    Language
                    <span *ngIf="lang" class=" cursor-pointer text-sm font-normal flex gap-1 align-items-center  pr-3 "
                        (click)="clearFilter('lang')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" viewBox="0 0 24 24">
                            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="1.5"
                                d="M20.999 4.5c-.012-.435-.103-.747-.327-.993C20.212 3 19.396 3 17.766 3H6.234c-1.63 0-2.445 0-2.906.507c-.461.508-.36 1.294-.158 2.866c.06.459.158.72.457 1.076c.969 1.15 2.742 3.197 5.23 5.057c.228.17.377.448.402.755c.28 3.425.537 5.765.674 6.917c.071.604.741 1.069 1.293.678c.927-.655 2.66-1.39 2.888-2.612c.085-.45.2-1.164.331-2.244M21 7l-6 6m6 0l-6-6"
                                color="currentColor" />
                        </svg>
                        Clear filter
                    </span>
                </div>
                <p-selectButton [options]="language" (click)="fetchData()" [(ngModel)]="lang" optionLabel="name"
                    optionValue="value"></p-selectButton>
            </div>
            <div class="level">
                <div class="flex align-items-center justify-content-between  mb-2 text-lg font-bold text-500  ">
                    Level
                    <span *ngIf="level" class=" cursor-pointer text-sm font-normal flex gap-1 align-items-center pr-3 "
                        (click)="clearFilter('level')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" viewBox="0 0 24 24">
                            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="1.5"
                                d="M20.999 4.5c-.012-.435-.103-.747-.327-.993C20.212 3 19.396 3 17.766 3H6.234c-1.63 0-2.445 0-2.906.507c-.461.508-.36 1.294-.158 2.866c.06.459.158.72.457 1.076c.969 1.15 2.742 3.197 5.23 5.057c.228.17.377.448.402.755c.28 3.425.537 5.765.674 6.917c.071.604.741 1.069 1.293.678c.927-.655 2.66-1.39 2.888-2.612c.085-.45.2-1.164.331-2.244M21 7l-6 6m6 0l-6-6"
                                color="currentColor" />
                        </svg>
                        Clear filter
                    </span>
                </div>
                <div class="flex flex-column gap-1 ">
                    <div class="flex align-items-center gap-1 ">
                        <p-radioButton name="level" value="all" [(ngModel)]="level" inputId="level0"></p-radioButton>
                        <label for="level0" class="ml-2">All levels</label>
                    </div>
                    <div class="flex align-items-center gap-1 ">
                        <p-radioButton name="level" value="Beginner" [(ngModel)]="level"
                            inputId="level1"></p-radioButton>
                        <label for="level1" class="ml-2">Beginner</label>
                    </div>

                    <div class="flex align-items-center gap-1 ">
                        <p-radioButton name="level" value="Intermediate" [(ngModel)]="level"
                            inputId="level2"></p-radioButton>
                        <label for="level2" class="ml-2">Intermediate</label>
                    </div>

                    <div class="flex align-items-center gap-1 ">
                        <p-radioButton name="level" value="Advanced" [(ngModel)]="level"
                            inputId="level3"></p-radioButton>
                        <label for="level3" class="ml-2">Advanced</label>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="coursescont " style="width: 80%;">
        <div class="flex justify-content-between">

            <div class="status p-3">
                Showing "{{totalRecords}}" results <span *ngIf="category || searchText">for </span>
                <ng-container *ngIf="category">{{category}}</ng-container>
                <ng-container *ngIf="searchText">{{searchText}}</ng-container>
            </div>
            <div *ngIf="category || searchText" class="back my-1">
                <p-button label="Back to all results" (onClick)="backToResults()" [text]="true" icon="pi pi-arrow-left"
                    size="small" [rounded]="true"></p-button>
            </div>
        </div>
        <p-dataView #dv *ngIf="!error" [value]="courses">
            <ng-template let-courses pTemplate="list">
                <div class="grid grid-nogutter  ">
                    <div (click)="navigateToCourseDetails(item._id)" class="col-12 hover:bg-green-50"
                        *ngFor="let item of courses;">
                        <div *ngIf="item?.isReleased"
                            class="cursor-pointer flex flex-column xl:flex-row xl:align-items-start p-4 gap-4"
                            style="border-bottom : solid 1px #b8b8b8;  ">
                            <div class="imgcont w-2">
                                <img [src]="item.coursePoster.url" [alt]="item.title"
                                    class="w-full h-6rem border-round border-1 border-100" style="object-fit:cover;" />
                            </div>
                            <div
                                class="flex flex-column sm:flex-row justify-content-between align-items-center xl:align-items-start flex-1 gap-4">
                                <div class="flex flex-column align-items-center sm:align-items-start gap-1">
                                    <div class="text-lg font-bold text-900 font-bold">{{ item.title }}</div>
                                    <div class="subtitle text-sm text-900 ">
                                        Master Angular and build awesome, reactive web apps with the successor of
                                        Angular.js </div>
                                    <div class="text-sm ">
                                        Instructor - {{item.educator.edname}}
                                    </div>
                                    <div class="lec text-sm flex gap-2    ">
                                        <span class="lecture">123 lecutres</span> |
                                        <span class="lecture">{{item.level}}</span> |
                                        <span class="lecture">{{item.language}}</span>
                                    </div>
                                </div>
                                <div class="flex sm:flex-column align-items-center sm:align-items-end gap-3 sm:gap-2">
                                    <span class="text-xl font-semibold">â‚¹ {{item.price}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-template>
        </p-dataView>
        <ng-container *ngIf="error">
            <div class="p-1">Courses not found in database.</div>
        </ng-container>
        <p-paginator *ngIf="totalRecords>0" (onPageChange)="onPageChange($event)" [first]="first" [rows]="rows"
            [totalRecords]="totalRecords" [showCurrentPageReport]="true"
            currentPageReportTemplate="{first} - {last} of {totalRecords}"></p-paginator>
    </div>
</div>