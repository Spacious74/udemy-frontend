<p-toast position="bottom-right" key="br"></p-toast>
<nav class="nav-container">
    <div class="navbar flex justify-content-between justify-content-between align-items-center m-auto ">

        <div class="left w-9 flex align-items-center gap-2">
            <span routerLink="/" class=" cursor-pointer logo w-2">
                Skill Up.
            </span>

            <!--  SELECT CATEGORY -->
            <div class="select p-fluid w-3">
                <p-dropdown [options]="categories" [(ngModel)]="selectedCategory" class="p-inputtext-sm" optionLabel="name" [showClear]="true" placeholder="Categories" (onChange)="display($event)" ></p-dropdown>
            </div>
            <!-- SEARCH TEXT -->
            <div class="p-input-icon-left p-fluid w-6">
                <i class="pi pi-search"></i>
                <input type="text" class="p-inputtext-sm" placeholder="Search for courses..." pInputText
                    [(ngModel)]="searchText" pTooltip="Press enter to search." tooltipPosition="right" (keydown.enter)="searchIt()"  />
            </div>
        </div>

        <div class="right w-5 flex justify-content-end align-items-center gap-4">
            <ul class="links list-none flex align-items-center gap-4 ">
                <li routerLinkActive="text-green-700" routerLink="/playlist" class="cursor-pointer hover:text-green-700 flex align-items-center gap-1 ">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1.2rem" height="1.2rem" viewBox="0 0 24 24">
                        <path fill="currentColor" fill-rule="evenodd" d="M7 6a1 1 0 0 1-.5.866l-3 1.732A1 1 0 0 1 2 7.732V4.268a1 1 0 0 1 1.5-.866l3 1.732A1 1 0 0 1 7 6m-4 5a1 1 0 1 0 0 2h18a1 1 0 1 0 0-2zm6-5a1 1 0 0 1 1-1h11a1 1 0 1 1 0 2H10a1 1 0 0 1-1-1M3 17a1 1 0 1 0 0 2h18a1 1 0 1 0 0-2z" clip-rule="evenodd" />
                    </svg>
                    My Playlist
                </li>
                <li routerLinkActive="text-green-700" (click)="navigateToCart()" class="cursor-pointer hover:text-green-700  flex align-items-center gap-1 ">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1.3rem" height="1.3rem" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M2.5 4.25a.75.75 0 0 1 .75-.75h.558c.95 0 1.52.639 1.845 1.233c.217.396.374.855.497 1.271A1.29 1.29 0 0 1 6.25 6h12.498c.83 0 1.43.794 1.202 1.593l-1.828 6.409a2.75 2.75 0 0 1-2.644 1.996H9.53a2.75 2.75 0 0 1-2.652-2.022l-.76-2.772l-1.26-4.248l-.001-.008c-.156-.567-.302-1.098-.52-1.494C4.128 5.069 3.96 5 3.809 5H3.25a.75.75 0 0 1-.75-.75m5.073 6.59l.751 2.739c.15.542.643.919 1.206.919h5.948a1.25 1.25 0 0 0 1.202-.907L18.417 7.5H6.585l.974 3.287zM11 19a2 2 0 1 1-4 0a2 2 0 0 1 4 0m-1.5 0a.5.5 0 1 0-1 0a.5.5 0 0 0 1 0m8.5 0a2 2 0 1 1-4 0a2 2 0 0 1 4 0m-1.5 0a.5.5 0 1 0-1 0a.5.5 0 0 0 1 0" />
                    </svg>
                    Cart
                </li>
            </ul>
            <ng-container *ngIf="!userLoggedIn else elseBlock">
                <div class="btn-container flex align-items-center gap-2 ">
                    <p-button routerLink="/login" severity="secondary" size="small" class="cursor-pointer" label="Login"
                        icon="pi pi-sign-in" [outlined]="true"></p-button>
                    <p-button routerLink="/signup" severity="secondary" size="small" class="cursor-pointer"
                        label="Signup" icon="pi pi-user"></p-button>
                </div>
            </ng-container>
            <!-- ELSE BLOCK -->
            <ng-template #elseBlock>
                <div class="flex align-items-center justify-content-center " (click)="op.toggle($event)">
                    <svg class="cursor-pointer" style="color : #464343;" xmlns="http://www.w3.org/2000/svg"
                        width="2.3rem" height="2.3rem" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M17 13.5a1.5 1.5 0 0 0-1.5-1.5h-7A1.5 1.5 0 0 0 7 13.5v.5c0 1.971 1.86 4 5 4c3.14 0 5-2.029 5-4zm-2.25-5.25a2.75 2.75 0 1 0-5.5 0a2.75 2.75 0 0 0 5.5 0M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2s10 4.477 10 10m-1.5 0a8.5 8.5 0 1 0-17 0a8.5 8.5 0 0 0 17 0" />
                    </svg>
                </div>
                <p-overlayPanel #op>
                    <ng-template pTemplate="content">
                        <div class="flex flex-column gap-1">
                            <div style="width: 150px;" routerLink="/user-profile"
                                class="listItems py-1 border-round px-2 cursor-pointer hover:bg-green-100 ">
                                Profile
                            </div>
                            <div (click)="logout()" style="width: 150px;"
                                class="listItems py-1 border-round px-2 cursor-pointer hover:bg-green-100 ">
                                Logout
                            </div>
                        </div>
                    </ng-template>
                </p-overlayPanel>
            </ng-template>
        </div>

    </div>
</nav>